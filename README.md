# Yandex Form ‚Üí Nextcloud Calendar Webhook

![Nextcloud](https://upload.wikimedia.org/wikipedia/commons/6/63/Nextcloud_Logo.svg) ![Flask](https://flask.palletsprojects.com/en/2.3.x/_images/flask-logo.png)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º Nextcloud —á–µ—Ä–µ–∑ webhook.**  
–í—Å–µ –æ—Ç–≤–µ—Ç—ã –∏–∑ —Ñ–æ—Ä–º—ã –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ —Å–æ–±—ã—Ç–∏—è iCal –∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å Nextcloud.

---

## üîπ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü—Ä–∏—ë–º webhook –æ—Ç –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã: `name`, `email`, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è iCal —Å–æ–±—ã—Ç–∏—è —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º UID
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–±—ã—Ç–∏–π –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å Nextcloud —á–µ—Ä–µ–∑ WebDAV
- –õ—ë–≥–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ `.env`

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone https://github.com/linksysadmin/YandexToNextcloudWebhook.git
mkdir yandex-nextcloud-webhook
cd yandex-nextcloud-webhook
python -m venv venv
source venv/bin/activate   # Linux/macOS
venv\Scripts\activate      # Windows
pip install -r requirements.txt
```
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```
USERNAME='service-bot'
APP_PASSWORD='–≤–∞—à_–ø–∞—Ä–æ–ª—å_–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è'
NEXTCLOUD_URL='https://example.com'
CALENDAR='-'
FLASK_PORT=5000
```

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:

USERNAME ‚Äî –≤–∞—à —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç Nextcloud
APP_PASSWORD ‚Äî –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤ Nextcloud
CALENDAR ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞–ª–µ–Ω–¥–∞—Ä—è (–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è)
üöÄ –ó–∞–ø—É—Å–∫ `python app.py`

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–ª—É—à–∞—Ç—å –ø–æ—Ä—Ç –∏–∑ .env (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 5000) –∏ –∂–¥–∞—Ç—å webhook –æ—Ç –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º.
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker –∏–ª–∏ ngrok, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–∞ –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π URL –¥–ª—è webhook.


üîó –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±—Ö—É–∫–∞ –≤ –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º–∞—Ö
```
–ü–∞—Ä–∞–º–µ—Ç—Ä	–ó–Ω–∞—á–µ–Ω–∏–µ
URL	https://your-ngrok-url.ngrok.io/webhook
–ú–µ—Ç–æ–¥	POST
–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö	JSON
```

–ü—Ä–∏–º–µ—Ä JSON, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ø–Ω–¥–µ–∫—Å.–§–æ—Ä–º–∞:

{
  "formId": "123456",
  "formName": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
  "params": {
    "name": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "ivan@mail.com"
  }
}
üìÇ –ü—Ä–∏–º–µ—Ä iCal —Å–æ–±—ã—Ç–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç JSON –≤ iCal:

BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//YourApp//EN
BEGIN:VEVENT
UID:9f1c2e7e-42d3-42c6-bf3a-7e1b6f453gs
DTSTAMP:20260220T123456Z
DTSTART:20260220T123456Z
SUMMARY:Yandex-—Ñ–æ—Ä–º–∞
DESCRIPTION:–ò–º—è: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤\nEmail: ivan@mail.com
END:VEVENT
END:VCALENDAR
üõ† –†–∞–±–æ—Ç–∞ —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º Nextcloud
–°–ø–∏—Å–æ–∫ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
curl -u service-bot:APP_PASSWORD -X PROPFIND -H "Depth: 1" \
https://example.com/remote.php/dav/calendars/service-bot/

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:

<d:response>
  <d:href>/remote.php/dav/calendars/service-bot/-/</d:href>
  <d:displayname>–Ø–Ω–¥–µ–∫—Å-—Ñ–æ—Ä–º–∞</d:displayname>
</d:response>
<d:response>
  <d:href>/remote.php/dav/calendars/service-bot/personal/</d:href>
  <d:displayname>Personal</d:displayname>
</d:response>


–ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ–±—ã—Ç–∏—è —á–µ—Ä–µ–∑ curl
curl -u service-bot:APP_PASSWORD -X PUT \
-H "Content-Type: text/calendar" \
--data-binary @event.ics \
https://example.com/remote.php/dav/calendars/service-bot/-/9f1c2e7e-5d56-4c7e-bf3a-7e1b6f65f19a.ics

–í @event.ics –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª iCal.

üîπ –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤:

2026-02-20 15:24:43 [INFO] JSON:{'params': {'name': '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤', 'email': 'ivan@mail.com'}}
2026-02-20 15:24:43 [INFO] RAW: b'{...}'
2026-02-20 15:24:43 [INFO] Nextcloud –æ—Ç–≤–µ—Ç–∏–ª: 201

‚ö†Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–ö–æ–¥	–ü—Ä–∏—á–∏–Ω–∞	–†–µ—à–µ–Ω–∏–µ
401	–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π USERNAME –∏–ª–∏ APP_PASSWORD	–ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env –∏ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Nextcloud
403	–ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—å	–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –Ω–∞ –∑–∞–ø–∏—Å—å
404	–ù–µ–≤–µ—Ä–Ω—ã–π URL –∫–∞–ª–µ–Ω–¥–∞—Ä—è	–ü—Ä–æ–≤–µ—Ä—å—Ç–µ CALENDAR –∏ –ø—É—Ç—å –≤ Nextcloud
500	–û—à–∏–±–∫–∞ Nextcloud	–õ–æ–≥–∏—Ä—É–π—Ç–µ response.status_code –∏ response.text

–ü—Ä–∏–º–µ—Ä –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ:

{
  "error": "Nextcloud error 403"
}

üí° –°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Å –ø—Ä–∞–≤–∞–º–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –Ω—É–∂–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å.
–î–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç—É–Ω–Ω–µ–ª—å.
–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—è —á–µ—Ä–µ–∑ PROPFIND –ø–µ—Ä–µ–¥ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º.
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π UID –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è.

üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
.
‚îú‚îÄ‚îÄ app.py             # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Flask
‚îú‚îÄ‚îÄ requirements.txt   # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ .env               # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

üìú –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License ¬© 2026

‚ù§Ô∏è –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

Nextcloud
 - CalDAV API
 - Flask –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
 - Yandex Forms ‚Äî —É–¥–æ–±–Ω—ã–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö